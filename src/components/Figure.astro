---
import { Image, type ImgAttributes } from "astro:assets";

export interface Props extends ImgAttributes {
	caption?: string;
}

const {
	caption,
	class: className,
	"class:list": classList,
	...props
} = Astro.props;
---

<figure class="figure">
<Image class:list={["figure-image", className, classList]} {...props} />

{caption && <figcaption class="figure-caption">{caption}</figcaption>}
</figure>

<style>
.figure {
  margin: unset;
  position: relative;
}

.figure-image {
  width: 100%;
  height: 100%;

  border-radius: var(--radius-layout);
  border: solid rgb(var(--color-border-yellow)) var(--width-border);
}

.figure-caption {
  position: absolute;
  bottom: 1em;
  left: 1.5em;

  color: white;
  text-shadow:
    0 2px 0.1em black,
    0 -2px 0.1em black,
    2px 0 0.1em black,
    -2px 0 0.1em black;
}
</style>
